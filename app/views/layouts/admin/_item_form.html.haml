= f.label :name, 'Name' + ' ' + mark_required(Item, :name)
%br
= f.text_field :name
.text-error= @item.errors[:name].join(', ')
%br

= f.label :alias, 'Alias' + ' ' + mark_required(Item, :alias)
%br
= f.text_field :alias
.text-error= @item.errors[:alias].join(', ')
%br

= f.label :section_id, 'Parent section' + ' ' + mark_required(Item, :section_id)
%br
= f.select :section_id, options_for_select(@tabulated_sections, @item[:section_id])
.text-error= @item.errors[:section_id].join(', ')
%br
%br


= f.label :price, 'Price' + ' ' + mark_required(Item, :price)
= f.text_field :price
.text-error= @item.errors[:price].join(', ')

= f.label :amount, 'Amount' + ' ' + mark_required(Item, :amount)
= f.text_field :amount
.text-error= @item.errors[:amount].join(', ')

= f.label :manufacturer, 'Manufacturer' + ' ' + mark_required(Item, :manufacturer)
= f.text_field :manufacturer
.text-error= @item.errors[:manufacturer].join(', ')
%br
%br



%div= f.label :photo, 'Photo' + ' ' + mark_required(Item, :photo)
- if not @item.photo_file_name.nil? and photo_errors.empty?
  %div= image_tag @item.photo.url
= f.file_field :photo
.text-error= photo_errors
%br
%br


= f.label :description, 'Description' + ' ' + mark_required(Item, :description)
%br
= f.text_area :description, :size => '80x8'
.text-error= @item.errors[:description].join(', ')
%br


%br


= f.check_box(:on_main_page, :checked => @item[:on_main_page])
= f.label :on_main_page, 'Show on main page' + ' ' + mark_required(Item, :on_main_page)
%br
%br


= f.check_box(:hidden, :checked => @item[:hidden])
= f.label :hidden, 'Hidden' + ' ' + mark_required(Item, :hidden)
%br


- unless @item.nil?
  .text-error= errors_messages(@item.errors,
    [:name, :price, :manufacturer, :amount, :alias, :section_id, :photo_file_size, :photo_content_type]).join.html_safe
